import streamlit as st

# âœ… í˜ì´ì§€ ì„¤ì •
st.set_page_config(page_title="MBTI ì§„ë¡œ ì¶”ì²œ", page_icon="ğŸ§‘â€ğŸ”¬")

# âœ… ì•± ì œëª©
st.title("ğŸ§‘â€ğŸ”¬ MBTIë¡œ ê³¼í•™ì ì¹œêµ¬ë¥¼ ë§Œë‚˜ê³  ì´ê³µê³„ ì§„ë¡œë¥¼ ì¶”ì²œë°›ì•„ë³´ì!")
st.markdown("**ë„ˆì˜ ì„±ê²© ìœ í˜•ì— ë§ëŠ” ê³¼í•™ì ì¹œêµ¬ì™€ ì§„ë¡œë¥¼ ì°¾ì•„ë³´ì•„ìš” ğŸ˜Š**")

# âœ… MBTI ë°ì´í„° (16ìœ í˜• ì „ì²´ í¬í•¨)
# ì•„ë˜ ì½”ë“œëŠ” ë„ˆë¬´ ê¸¸ì–´ì ¸ ìƒëµí–ˆì§€ë§Œ, ì•ì„œ ì œê³µí•œ `scientist_data = {...}` ì „ì²´ë¥¼ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”.
# â¬‡ï¸ ì—¬ê¸°ì—ì„œ ì‹œì‘
scientist_data = {
    "INTJ": {
        "name": "ìŠ¤í‹°ë¸ í˜¸í‚¹",
        "desc": "ë‚˜ëŠ” ìš°ì£¼ì˜ ë¹„ë°€ì„ í’€ê¸° ìœ„í•´ ë§¤ì¼ ìƒê°í–ˆì–´!",
        "emoji": "ğŸ§ ğŸŒŒ",
        "keywords": ["ê³„íšì ", "ë¶„ì„ì ", "ë¯¸ë˜ì§€í–¥ì "],
        "jobs": ["ì´ë¡ ë¬¼ë¦¬í•™ì", "AI ì—°êµ¬ì›", "ë¹…ë°ì´í„° ë¶„ì„ê°€"],
        "job_details": {
            "ì´ë¡ ë¬¼ë¦¬í•™ì": "ìš°ì£¼ë‚˜ ìì—°ì˜ ê·¼ë³¸ ì›ë¦¬ë¥¼ ìˆ˜í•™ì ìœ¼ë¡œ íƒêµ¬í•´ìš”.",
            "AI ì—°êµ¬ì›": "ê¸°ê³„ê°€ ìŠ¤ìŠ¤ë¡œ íŒë‹¨í•˜ë„ë¡ ì¸ê³µì§€ëŠ¥ ì•Œê³ ë¦¬ì¦˜ì„ ë§Œë“¤ì–´ìš”.",
            "ë¹…ë°ì´í„° ë¶„ì„ê°€": "ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ ë¶„ì„í•´ ìˆ¨ê²¨ì§„ íŒ¨í„´ì„ ì°¾ì•„ë‚´ìš”."
        }
    },
    # ... 15ê°œ MBTI ìœ í˜• ìƒëµ (ì•ì„œ ë°›ì€ ì „ì²´ ë”•ì…”ë„ˆë¦¬ ë‚´ìš©ì„ ê·¸ëŒ€ë¡œ ë³µë¶™í•˜ì„¸ìš”)
    "ESFP": {
        "name": "ë¹Œ ë‚˜ì´",
        "desc": "ë‚˜ëŠ” ê³¼í•™ì„ ì¬ë°Œê²Œ ì•Œë¦¬ëŠ” ì¼ì„ í–ˆì–´!",
        "emoji": "ğŸ¤ğŸ§ª",
        "keywords": ["ì‚¬êµì ", "ì¬ë¯¸ ì¶”êµ¬", "ê°ê°ì "],
        "jobs": ["ê³¼í•™ ì½˜í…ì¸  ì œì‘ì", "ê¸°ìˆ  í™ë³´ ì „ë¬¸ê°€", "STEM êµìœ¡ì"],
        "job_details": {
            "ê³¼í•™ ì½˜í…ì¸  ì œì‘ì": "ê³¼í•™ì„ ì‰½ê²Œ ì•Œë ¤ì£¼ëŠ” ì˜ìƒì´ë‚˜ ì±…ì„ ë§Œë“¤ì–´ìš”.",
            "ê¸°ìˆ  í™ë³´ ì „ë¬¸ê°€": "ê¸°ìˆ ì„ ì†Œê°œí•˜ê³  í™ë³´í•˜ëŠ” ì¼ì„ í•´ìš”.",
            "STEM êµìœ¡ì": "ì–´ë¦°ì´Â·ì²­ì†Œë…„ì—ê²Œ ê³¼í•™ì„ ì‰½ê²Œ ê°€ë¥´ì³ìš”."
        }
    }
}

# âœ… ì„ íƒ ëª¨ë“œ: ì§ì ‘ ì„ íƒ vs ì„¤ë¬¸
st.markdown("### ğŸ’¡ ë¨¼ì €, ì•„ë˜ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì„¸ìš”:")
mode = st.radio("MBTIë¥¼ ì§ì ‘ ê³ ë¥´ê±°ë‚˜ ì„¤ë¬¸ì„ í†µí•´ ì•Œì•„ë³¼ ìˆ˜ ìˆì–´ìš”.", ["ğŸ”¤ MBTI ì§ì ‘ ì„ íƒ", "ğŸ“ ê°„ë‹¨ MBTI ì„¤ë¬¸"])

# MBTI ê²°ì • ë³€ìˆ˜
selected_mbti = None

if mode == "ğŸ”¤ MBTI ì§ì ‘ ì„ íƒ":
    selected_mbti = st.selectbox("ğŸ‘‰ ë„ˆì˜ MBTI ìœ í˜•ì„ ì„ íƒí•˜ì„¸ìš”:", list(scientist_data.keys()))
else:
    st.markdown("#### ğŸ§  ì•„ë˜ ë¬¸í•­ì— ë‹µí•´ì£¼ì„¸ìš”!")

    ei1 = st.radio("1. ì‚¬ëŒë“¤ê³¼ ìˆì„ ë•Œ ì—ë„ˆì§€ê°€ ìƒê¸´ë‹¤", ["ì˜ˆ", "ì•„ë‹ˆì˜¤"], key="ei1")
    sn1 = st.radio("2. ìƒìƒë³´ë‹¤ ì‹¤ì œê°€ ë” ì¤‘ìš”í•˜ë‹¤", ["ì˜ˆ", "ì•„ë‹ˆì˜¤"], key="sn1")
    tf1 = st.radio("3. ê²°ì •ì„ ë‚´ë¦´ ë•Œ ê°ì •ë³´ë‹¤ ë…¼ë¦¬ë¥¼ ë”°ë¥¸ë‹¤", ["ì˜ˆ", "ì•„ë‹ˆì˜¤"], key="tf1")
    jp1 = st.radio("4. ë¯¸ë¦¬ ê³„íší•˜ëŠ” ê±¸ ì¢‹ì•„í•œë‹¤", ["ì˜ˆ", "ì•„ë‹ˆì˜¤"], key="jp1")
    ei2 = st.radio("5. ë‚˜ëŠ” í˜¼ì ìˆëŠ” ì‹œê°„ë³´ë‹¤ ì¹œêµ¬ë“¤ê³¼ì˜ ì‹œê°„ì´ ë” ì¢‹ë‹¤", ["ì˜ˆ", "ì•„ë‹ˆì˜¤"], key="ei2")
    sn2 = st.radio("6. ì„¤ëª…í•  ë•Œ ì‹¤ì œ ì˜ˆì‹œë¥¼ ìì£¼ ë“ ë‹¤", ["ì˜ˆ", "ì•„ë‹ˆì˜¤"], key="sn2")
    tf2 = st.radio("7. ì¹œêµ¬ê°€ ì†ìƒí•˜ë©´ ì¼ë‹¨ ê³µê°ë¶€í„° í•œë‹¤", ["ì˜ˆ", "ì•„ë‹ˆì˜¤"], key="tf2")
    jp2 = st.radio("8. í•´ì•¼ í•  ì¼ì€ ë¯¸ë¦¬ ê³„íší•´ì„œ ì²˜ë¦¬í•˜ëŠ” í¸ì´ë‹¤", ["ì˜ˆ", "ì•„ë‹ˆì˜¤"], key="jp2")

    if st.button("ğŸ‘‰ MBTI í…ŒìŠ¤íŠ¸ ê²°ê³¼ í™•ì¸í•˜ê¸°"):
        # ì ìˆ˜ ê³„ì‚°
        e = [ei1, ei2].count("ì˜ˆ")
        s = [sn1, sn2].count("ì˜ˆ")
        t = [tf1, tf2].count("ì•„ë‹ˆì˜¤")
        j = [jp1, jp2].count("ì˜ˆ")

        mbti = ""
        mbti += "E" if e >= 1 else "I"
        mbti += "S" if s >= 1 else "N"
        mbti += "T" if t >= 1 else "F"
        mbti += "J" if j >= 1 else "P"

        selected_mbti = mbti
        st.success(f"ğŸ¯ ë‹¹ì‹ ì˜ MBTI ìœ í˜•ì€ **{selected_mbti}** ì…ë‹ˆë‹¤!")

# âœ… ê²°ê³¼ ì¶œë ¥
if selected_mbti and selected_mbti in scientist_data:
    data = scientist_data[selected_mbti]

    st.markdown("---")
    st.markdown(f"### ğŸ‘©â€ğŸ”¬ ê³¼í•™ì ì¹œêµ¬: {data['name']} {data['emoji']}")
    st.write(f"**ì„¤ëª…:** {data['desc']}")
    st.markdown("**ì„±ê²© í‚¤ì›Œë“œ:** " + ", ".join(data["keywords"]))

    st.markdown("### ğŸ¯ ì–´ìš¸ë¦¬ëŠ” ì´ê³µê³„ ì§„ë¡œ ì¶”ì²œ:")
    for job in data["jobs"]:
        with st.expander(f"ğŸ” {job} ìì„¸íˆ ë³´ê¸°"):
            st.write(data["job_details"].get(job, "ìƒì„¸ ì •ë³´ê°€ ì¤€ë¹„ ì¤‘ì´ì—ìš”."))

    st.success("ğŸ‰ ë„ˆì™€ ì˜ ì–´ìš¸ë¦¬ëŠ” ê³¼í•™ì ì¹œêµ¬ì™€ ì§„ë¡œë¥¼ ì°¾ì•˜ì–´ìš”!")
